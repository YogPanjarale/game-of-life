var e=Object.defineProperty,t=(t,i,s)=>(((t,i,s)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s})(t,"symbol"!=typeof i?i+"":i,s),s);import{p as i}from"./vendor.e7d72309.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class s{constructor(e,i,s,r){t(this,"tiles"),this.p=e,this.width=i,this.height=s,this.size=r,this.tiles=[];for(let t=0;t<i;t++){this.tiles[t]=[];for(let i=0;i<s;i++)this.tiles[t][i]=new l(e,t,i,r)}}run(){for(let e=0;e<this.width;e++)for(let t=0;t<this.height;t++)this.tiles[e][t].setNeighbors(r(this,this.tiles[e][t]))}render(){for(let e=0;e<this.width;e++)for(let t=0;t<this.height;t++)this.tiles[e][t].render()}handleClick(e,t){const[i,s]=[Math.round(e/this.size),Math.round(t/this.size)];if(i<this.width&&s<this.height)try{this.tiles[i][s].handleClick()}catch(r){}}}function r(e,t){const i=[];for(let s=-1;s<2;s++)for(let r=-1;r<2;r++){if(0===s&&0===r)continue;const l=t.x+s,h=t.y+r;l>=0&&l<e.width&&h>=0&&h<e.height&&i.push(e.tiles[l][h])}return i}class l{constructor(e,i,s,r){t(this,"alive",!1),t(this,"neighbors",[]),t(this,"lastAlive",0),this.p=e,this.x=i,this.y=s,this.size=r}render(){this.alive?this.p.fill(40,44,52):this.p.fill(216,212,204),this.p.stroke(236,232,224),this.p.strokeWeight(1),this.p.rect(this.x*this.size,this.y*this.size,this.size,this.size)}setNeighbors(e){this.neighbors=e,this.neighbors.filter((e=>e.alive)).length<2&&this.kill(),this.neighbors.filter((e=>e.alive)).length>1&&this.neighbors.filter((e=>e.alive)).length,this.neighbors.filter((e=>e.alive)).length>3&&this.kill(),3===this.neighbors.filter((e=>e.alive)).length&&this.revive()}handleClick(){Date.now()-this.lastAlive>1e3&&(this.alive?this.kill():this.revive(),this.lastAlive=Date.now())}kill(){this.alive=!1}revive(){this.alive=!0}}new i((e=>{const t=10,i=document.querySelector("#frameRate"),r=document.querySelector("#framerate-display"),l=document.getElementById("run");let h;console.log(e.width/t,e.height/t,t),e.setup=()=>{e.createCanvas(600,400),h=new s(e,e.width/t,e.height/t,t)},null==i||i.addEventListener("input",(t=>{const i=t.target;e.frameRate(parseInt(i.value)),r.innerText=i.value})),e.draw=()=>{r.innerText="fps : "+e.frameRate().toFixed().toString(),e.mouseIsPressed&&h.handleClick(e.mouseX,e.mouseY),e.background(0),h.render(),(l.checked||e.keyIsDown(" ".charCodeAt(0)))&&h.run()}}),document.querySelector(".canvas"));
